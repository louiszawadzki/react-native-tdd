"use strict";(self.webpackChunkrn_tdd=self.webpackChunkrn_tdd||[]).push([[853],{3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return h}});var o=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var l=o.createContext({}),p=function(t){var e=o.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},c=function(t){var e=p(t.components);return o.createElement(l.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},u=o.forwardRef((function(t,e){var n=t.components,a=t.mdxType,i=t.originalType,l=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),u=p(n),h=a,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||i;return n?o.createElement(m,r(r({ref:e},c),{},{components:n})):o.createElement(m,r({ref:e},c))}));function h(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var i=n.length,r=new Array(i);r[0]=u;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s.mdxType="string"==typeof t?t:a,r[1]=s;for(var p=2;p<i;p++)r[p]=n[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5248:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var o=n(7462),a=n(3366),i=(n(7294),n(3905)),r=["components"],s={sidebar_position:1},l="Designing a Component",p={unversionedId:"tdd-recipes/designing-component",id:"tdd-recipes/designing-component",isDocsHomePage:!1,title:"Designing a Component",description:'How to do it with "real" TDD',source:"@site/docs/tdd-recipes/designing-component.md",sourceDirName:"tdd-recipes",slug:"/tdd-recipes/designing-component",permalink:"/react-native-tdd/docs/tdd-recipes/designing-component",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Start Practising TDD",permalink:"/react-native-tdd/docs/tdd-intro/getting-started"},next:{title:"Fetching Data from an API",permalink:"/react-native-tdd/docs/tdd-recipes/fetching-data"}},c=[{value:"How to do it with &quot;real&quot; TDD",id:"how-to-do-it-with-real-tdd",children:[]},{value:"How to do it with a &quot;TDD spirit&quot;",id:"how-to-do-it-with-a-tdd-spirit",children:[{value:"A bit about snaptshots",id:"a-bit-about-snaptshots",children:[]},{value:"Have I got all the snapshots in place?",id:"have-i-got-all-the-snapshots-in-place",children:[]},{value:"Coding with my simulator",id:"coding-with-my-simulator",children:[]},{value:"Updating expected snapthots",id:"updating-expected-snapthots",children:[]},{value:"Checking unexpected shapshots in the real app",id:"checking-unexpected-shapshots-in-the-real-app",children:[]}]}],d={toc:c};function u(t){var e=t.components,n=(0,a.Z)(t,r);return(0,i.kt)("wrapper",(0,o.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"designing-a-component"},"Designing a Component"),(0,i.kt)("h2",{id:"how-to-do-it-with-real-tdd"},'How to do it with "real" TDD'),(0,i.kt)("p",null,"Theoretically, you could design a component in real TDD by using visual regression testing tools, and comparing your app to your design mockups"),(0,i.kt)("p",null,"However, I would not recommend doing so as this method requires strong requirements:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"your design mock ups are perfect"),(0,i.kt)("li",{parentName:"ul"},"you want 100% pixel perfect")),(0,i.kt)("p",null,"I've personally never done it and I'm curious, so if you've done it feel free to tell me how it went on twitter ",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/zawadzkil"},"@zawadzkil")," :)"),(0,i.kt)("h2",{id:"how-to-do-it-with-a-tdd-spirit"},'How to do it with a "TDD spirit"'),(0,i.kt)("p",null,"Instead, let's focus on what matters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"I can make sure my changes are working"),(0,i.kt)("li",{parentName:"ul"},"I don't have to think about tests once my code is written"),(0,i.kt)("li",{parentName:"ul"},"No test is failing before going to the next feature")),(0,i.kt)("p",null,"So what do we have at our disposal? Snapshots!"),(0,i.kt)("h3",{id:"a-bit-about-snaptshots"},"A bit about snaptshots"),(0,i.kt)("p",null,'I can hear some of you thinking "oh no, not snaptshots!", and I understand.\nSnapshots were once seen by many (including myself) as the silver bullet for testing, that would deliver us from writing assertions.'),(0,i.kt)("p",null,"Unfortunately, we painfully discovered that this was not the case, and moreover they would break often and were painful to understand...\nSo they have fallen out of fashion."),(0,i.kt)("p",null,"But I believe there is still some use for snapshots. They are actually good at checking one thing: that I did not change the style of a page unexpectedly.\nFor example, I may want to change the style of a ",(0,i.kt)("inlineCode",{parentName:"p"},"ProfileCard")," component on some page A. But my snapshots can warn me that this component was actually also used in page B, and so I made a regression!"),(0,i.kt)("p",null,"So to me the only use case for snapshots is to capture a complete page with as many variations as possible.\nMy snapshot isn't going to act as my acceptance test, so if I change a feature without touching any style, I can blindly update the snapshot."),(0,i.kt)("p",null,"Allright, let's write the snapshot first. I'm kidding. Don't do it. It's painful."),(0,i.kt)("p",null,"So how can we do?"),(0,i.kt)("h3",{id:"have-i-got-all-the-snapshots-in-place"},"Have I got all the snapshots in place?"),(0,i.kt)("p",null,"We can start by thinking about tests first:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Which snapshot are supposed to fail?"),(0,i.kt)("li",{parentName:"ul"},"Is there actually a snapshot in place that is supposed to fail?")),(0,i.kt)("h3",{id:"coding-with-my-simulator"},"Coding with my simulator"),(0,i.kt)("h3",{id:"updating-expected-snapthots"},"Updating expected snapthots"),(0,i.kt)("p",null,"Now if I add a component, I expect my snapshot to fail \u2192 good I can update it now!\nBefore going on the the next step, I have to make sure all my expected snapshots pass."),(0,i.kt)("h3",{id:"checking-unexpected-shapshots-in-the-real-app"},"Checking unexpected shapshots in the real app"),(0,i.kt)("p",null,"If a snapshot failed unexpectedly, you have to go to your app and check if there is an impact on the design."))}u.isMDXComponent=!0}}]);